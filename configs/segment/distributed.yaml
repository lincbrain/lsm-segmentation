expname: distributed-segmentation
device_ids: 0        # single GPU / DP / DDP; run on all available GPUs;

data:
    data_dir: None
    dataset_type: 'dandiset'
    url: https://dandiarchive.s3.amazonaws.com/zarr/0bda7c93-58b3-4b94-9a83-453e1c370c24/
    scale: 0

model:
    debug: False
    channels: [[0, 0]]
    boundary: 'reflect'
    diameter: [30, 7.5, 7.5]
    use_anisotropy: True
    scale: [1.0, 1.0, 1.0]

    anystar:
        model_folder: 'models'
        model_name: 'anystar-mix'
        weight_name: 'weights_best.h5'
        prob_thresh: 0.67
        nms_thresh: 0.3

    anystar_gaussian:
        model_folder: 'models'
        model_name: 'gaussian_steerable_run_250k'
        weight_name: 'weights_best.h5'
        prob_thresh: 0.67
        nms_thresh: 0.3

    anystar_spherical:
        model_folder: 'models'
        model_name: 'spherical_steerable_run'
        weight_name: 'weights_best.h5'
        prob_thresh: 0.67
        nms_thresh: 0.3

    stitching:
        iou_depth: 7
        iou_threshold: 0.7

segmentation:
    vol_lims: [1000, 650, 3500] # starting sub-voxel indices
    voxel_shape: [256, 256, 256] # run on a small subset of data
    chunk_sizes: [256, 128, 64, 32]
    models: ['anystar-gaussian', 'anystar', 'cellpose', 'anystar-spherical']

training:
    log_root_dir: /om2/user/ckapoor/lsm-segmentation/model_analysis       # logging directory
    exp_dir: /om2/user/ckapoor/lsm-segmentation/model_analysis/stitching/
